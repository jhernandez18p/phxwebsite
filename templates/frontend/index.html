{% extends 'base.html' %}
{% load staticfiles %}

{% block css %}
<link rel="stylesheet" href="{% static 'base/css/swiper.min.css' %}">
<link rel="stylesheet" href="{% static 'base/css/home.css' %}">
<style>
    #newsCard .uk-card {margin-left: 5px;margin-right: 5px;}
    .el-image {height: 100px;width: 100px;padding-bottom: 5px; padding-top: 5px;}
</style>
{% endblock %}

{% block fullscreen %}
    {% if full_banners %}
        <div class="full-screen">
            <div class="swiper-container">
                <div class="scroll uk-visible@m uk-position-bottom-center">
                    <span id="scroll">
                        <svg version="1.1" id="icn" fill="#fff" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                            y="0px" width="40px" height="50px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">
                            <polygon opacity="0" points="19.9,21 0,1.3 1.4,0 19.9,18.3 38.6,0 40,1.3 ">
                                <animate id="first" attributeName="opacity" attributeType="XML" dur="3s" from="1" to="0" repeatCount="indefinite" begin="0"
                                />
                            </polygon>
                            <polygon id="arrow-two" opacity="0" points="19.9,30.9 0,11.2 1.4,9.9 19.9,28.2 38.6,9.8 40,11.2 ">
                                <animate id="second" attributeName="opacity" attributeType="XML" dur="3s" from="1" to="0" repeatCount="indefinite" begin="1s"
                                />
                            </polygon>
                            <polygon id="arrow-three" opacity="0" points="19.9,40 0,20.3 1.4,19 19.9,37.3 38.6,19 40,20.3 ">
                                <animate id="third" attributeName="opacity" attributeType="XML" dur="3s" from="1" to="0" repeatCount="indefinite" begin="2s"
                                />
                            </polygon>
                        </svg>
                    </span>
                </div>
                <div class="swiper-wrapper" uk-height-match="target: > div > img">
                    {% for banner in full_banners %}
                        <div class="swiper-slide">
                            <div class="uk-child-width-1-1@">
                                <img class="uk-background-cover uk-visible@m" {% if banner.large_banner %} src="{{banner.large_banner}}" {% else %} src="{% static 'base/images/base.png' %}"
                                    {% endif %} alt="{% if lang_code != 'English' %}{{banner.es_name}}{% else %}{{banner.en_name}}{% endif %}" uk-height-viewport uk-scrollspy="cls: uk-animation-kenburns; repeat: true;">
                            </div>
                        </div>
                    {% endfor %}
                </div>
                <div class="swiper-button-next swiper-button-white"></div>
                <div class="swiper-button-prev swiper-button-white"></div>
                <div class="top-logo uk-visible@m uk-position-center">
                    <img class="logo-menu" src="{% static 'base/images/logo.png' %}" alt="{{site.name}}" uk-parallax="target: #test-easing; y: 200; easing: 1">
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}

{% block content %}
    {# Informacion del sitio #}
    {% if site %}
        <div class="uk-section-muted">
            <div class="uk-cover-container">
                <canvas width="100%" height="800"></canvas>
                <div class="My-box" uk-scrollspy="cls: uk-animation-slide-top-small; target: > .uk-card; delay: 200;">
                    <div class="uk-card uk-card-default  uk-card-body ">
                        {% if lang_code == 'English' %}
                            <h2>{{site.en_name}}</h2>
                            {{site.en_description|safe}}
                            <a href="{% url 'en:about' %}" class="uk-button uk-button-default button-phx uk-child-width-auto uk-margin-small-bottom">
                                Learn more
                            </a>
                        {% else %} 
                            <h2>{{site.es_name}}</h2>
                            {{site.es_description|safe}}
                            <a href="{% url 'es:historia' %}" class="uk-button uk-button-default button-phx uk-child-width-auto uk-margin-small-bottom">
                                Ver m√°s
                            </a>
                        {% endif %}
                    </div>
                </div>
                <img src="{% static 'base/images/chair.jpg' %}" alt="{{site.en_name}}" class="uk-background-center-center uk-background-fixed" uk-cover>
                <!-- <div class="uk-overlay-primary uk-position-cover"></div> -->
            </div>
        </div>
    {% endif %}
    {# Segmentos de negocio #}
    {% if  business_banners  %}
        <div class="uk-container">
            <div class="uk-section-small uk-section-muted">
                <h3 class="uk-heading-line uk-text-center" style="left: 50%; top: 50%">
                    <span>
                        {% if lang_code != 'English' %}
                            Nuestro negocio
                        {% else %}
                            Our business
                        {% endif %}
                    </span>
                </h3>
            </div>
        </div>

        <div class="uk-width-1-1 uk-background-muted">
            <div class="uk-container">
                {% for banner in business_banners %}
                    {% if lang_code != 'English' %}
                        <div class="uk-child-width-1-2@s biz-cards uk-margin-xlarge" uk-grid>
                            <div class="child card-shadow uk-card-media-left uk-cover-container uk-animation-scale-up">
                                <img src="{{banner.image}}" alt="{{banner.es_name}}" uk-cover>
                                <canvas width="600" height="400"></canvas>
                            </div>
                            <div>
                                <div class="uk-padding-large">
                                    <h3 class="uk-text-center uk-h2 uk-scrollspy-inview uk-animation-scale-up" uk-scrollspy-class="" style="">
                                        {{banner.es_name}}
                                    </h3>
                                    <div class="uk-margin uk-width-large uk-margin-auto uk-text-center uk-scrollspy-inview uk-animation-scale-up" uk-scrollspy-class="" style="">
                                        {{banner.es_description | safe}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% else %}
                        <div class="uk-child-width-1-2@s biz-cards uk-margin-xlarge" uk-grid>
                            <div class="child card-shadow uk-card-media-left uk-cover-container uk-animation-scale-up">
                                <img src="{{banner.image}}" alt="{{banner.en_name}}" uk-cover>
                                <canvas width="600" height="400"></canvas>
                            </div>
                            <div>
                                <div class="uk-padding-large">
                                    <h3 class="uk-text-center uk-h2 uk-scrollspy-inview uk-animation-scale-up" uk-scrollspy-class="" style="">
                                        {{banner.en_name}}
                                    </h3>
                                    <div class="uk-margin uk-width-large uk-margin-auto uk-text-center uk-scrollspy-inview uk-animation-scale-up" uk-scrollspy-class="" style="">
                                        {{banner.en_description | safe}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div> 
    {% endif %}
    {# Nuestras marcas #}
    {% if home_brands %}
        <div class="uk-container uk-margin-large-top">
            <div class="uk-section-small uk-section-muted">
                <h3 class="uk-heading-line uk-text-center" style="left: 50%; top: 50%">
                    <span>
                        {% if lang_code != 'English' %}
                            Nuestras marcas
                        {% else %}
                            Our brands
                        {% endif %}
                    </span>
                </h3>
            </div>
        </div>
        <div class="uk-section-default uk-section uk-section-large">
            <div class="uk-container">
                <div class="uk-grid-divider uk-margin-remove-vertical uk-grid" uk-grid="">
                    {% for object in home_brands %}
                    {% if forloop.counter0 == 4 %}
                    </div>
                        <div class="uk-grid-collapse uk-margin-remove-vertical uk-grid uk-grid-stack" uk-grid="">
                            <div class="uk-width-1-1@s uk-first-column">
                                <div class="uk-hr"></div>
                            </div>
                        </div>
                    <div class="uk-grid-divider uk-margin-remove-vertical uk-grid" uk-grid="">
                    {% endif %}
                    <div class="uk-width-expand@s uk-first-column">
                        <div class="uk-margin uk-text-center">
                            {% if lang_code == 'English' %}
                                <a href="{{object.get_absolute_url_en}}">
                                    <img src="{{object.short_logo.url}}" class="el-image" alt="{{object.en_name}}">
                                </a>
                                {% else %}
                                <a href="{{object.get_absolute_url_es}}">
                                    <img src="{{object.short_logo.url}}" class="el-image" alt="{{object.es_name}}">
                                </a>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>     
        </div>
    {% endif %}
    {# Mapa #}
        <div class="uk-container">
            <div class="uk-section-small uk-section-muted">
                <h3 class="uk-heading-line uk-text-center" style="left: 50%; top: 50%">
                    <span>
                        {% if lang_code != 'English' %}
                        ¬øEn donde estamos?
                        {% else %}
                        Where are we?
                        {% endif %}
                    </span>
                </h3>
            </div>
        </div>
        <div id="map"></div>
    {# Mapa #}
    {# Numbers #}
    {% if not number %}
        <div class="uk-container">
            <div class="uk-section-small uk-section-muted">
                <h3 class="uk-heading-line uk-text-center" style="left: 50%; top: 50%">
                    <span>
                        {% if lang_code != 'English' %}
                            {{site.en_title}}
                        {% else %}
                            {{site.es_title}}
                        {% endif %}
                    </span>
                </h3>
            </div>
        </div>
        <div class="uk-section-default">
            <div style="height:55vh;background-image: url('/static/base/images/parallax.png');"
                class="uk-background-cover uk-background-center-center uk-background-fixed uk-section">
                <div class="uk-container">
                </div>
            </div>
        </div>
    {% endif %}
    {# Noticias #}
    {% if news %}
        <div class="uk-container">
            <div class="uk-section-small uk-section-muted">
                <h3 class="uk-heading-line uk-text-center" style="left: 50%; top: 50%">
                    <span>
                        {% if lang_code != 'English' %}
                            Noticias
                        {% else %}
                            News
                        {% endif %}
                    </span>
                </h3>
            </div>
        </div>
        <div class=" uk-section-muted">
            <div class="uk-container">
                <div class="uk-grid-match uk-child-width-1-3@m uk-child-width-2@s uk-text-center" uk-grid uk-height-match="target: > div > .uk-card" id="newsCard">
                    {% for obj in news %}
                        <div>
                            <div class="uk-card uk-card-default">
                                {% if lang_code != 'English' %}
                                    <div class="uk-card-media-top">
                                        {% if obj.short_image %}
                                            <img src="{{obj.short_image.url}}" alt="{{obj.es_name}}">
                                        {% else %}
                                            <img src="{% static 'base/images/base.png' %}" alt="{{obj.es_name}}">
                                        {% endif %}
                                    </div>
                                    <div class="uk-card-body">
                                        <h3 class="uk-card-title">
                                            {{obj.es_title}}
                                        </h3>
                                        {{obj.es_short_description|safe}}
                                    </div>
                                    <div class="uk-card-footer">
                                        <a href="{{obj.get_absolute_url_es}}" class="uk-button uk-button-text">
                                            Ver m√°s
                                        </a>
                                    </div>
                                {% else %}
                                    <div class="uk-card-media-top">
                                        {% if obj.short_image %}
                                            <img src="{{obj.short_image.url}}" alt="{{obj.en_name}}">
                                        {% else %}
                                            <img src="{% static 'base/images/base.png' %}" alt="{{obj.en_name}}">
                                        {% endif %}
                                    </div>
                                    <div class="uk-card-body">
                                        <h3 class="uk-card-title">
                                            {{obj.en_title}}
                                        </h3>
                                        {{obj.en_short_description|safe}}
                                    </div>
                                    <div class="uk-card-footer">
                                        <a href="{{obj.get_absolute_url_en}}" class="uk-button uk-button-text">
                                            Read more
                                        </a>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}
    
{% block js %}
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA_uf0M6P9N8ZUTm3vsKlm-li2auJ9-guU" async defer></script>
<script src="{% static 'base/js/map.js' %}"></script>
<script>
$(document).ready(function(){
    $( "#map" ).delay(5000).fadeIn(initMap);

    var swiper = new Swiper('.full-screen .swiper-container', {
        pagination: '.full-screen .swiper-pagination',
        paginationClickable: true,
        navigation: {
            nextEl: '.full-screen .swiper-button-next',
            prevEl: '.full-screen .swiper-button-prev',
        },
        loop: true,
        autoplay: {
            delay: 5000,
            disableOnInteraction: false,
        },
    });
    var swiperBiz = new Swiper('.banners-biz .swiper-container', {
        pagination: '.banners-biz .swiper-pagination',
        paginationClickable: true,
        navigation: {
            nextEl: '.banners-biz .swiper-button-next',
            prevEl: '.banners-biz .swiper-button-prev',
        },
        loop: true,
        autoplay: 8000,
    });
    $('.biz-cards:odd').find('.child').addClass('uk-flex-last uk-card-media-right uk-cover-container');
    $('.biz-cards:even').find('.child').addClass('uk-card-media-left uk-cover-container card-shadow uk-first-column');
    
});
</script>

{% endblock %}